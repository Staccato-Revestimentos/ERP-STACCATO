language: cpp
compiler: gcc
sudo: required
dist: trusty

cache: ccache
    
before_install:
  - sudo add-apt-repository ppa:beineri/opt-qt-5.10.1-trusty -y
  - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
  - sudo apt-get update

install:
  - sudo apt-get install g++-7 gcc-7
  #- export CXX=ccache g++-7
  #- export CC=ccache gcc-7
  #- sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-7 90
  #- sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 90
  - sudo apt-get install qt510base qt510charts-no-lgpl qt510script qt510tools
  
script:
  - source /opt/qt510/bin/qt510-env.sh
  - /opt/qt510/bin/qmake Loja.pro
  - make -j3
  
  # TODO:
  # cache ccache cache folder?
  # cache /usr/bin
  # cache qt folder /opt/qt?